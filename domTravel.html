<html> 
<head> 
<title>DOM traversal</title> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script type="text/javascript">

$(document).ready(function(){
	let linksArr = [];
	const blogWords = ['blog', 'cryptocurrency', 'blockchain', 'fintech','libra'];
	const badBlogWords = ['..', '...', 'Â»'];

	const capit = (s) => {
		if (typeof s !== 'string') return ''
		return s.charAt(0).toUpperCase() + s.slice(1)
		}

	let aLink = document.querySelectorAll("a");
	for( let i=1; i < aLink.length; i++ ){

		if ($("a").parent().is("h"+i)) {
			$( "h"+i ).each(function( index ) {
				if( $( "h"+i ).has("a")){

					let linkText =  $( this ).text();
					let linkTextLC = linkText.toLowerCase();
					let linkLink =  $("a", this ).attr("href");

					
					if( (linkText != undefined && linkText != null && linkTextLC != "") &&
						(linkLink != undefined && linkLink != null && linkLink != ""))
						{
							let blogWorthy= blogWords.some(o => linkTextLC.includes(o));
							let blogUnworthy= badBlogWords.some(o => linkText.includes(o));
							if(blogWorthy ){
								if(! blogUnworthy ){

									linksArr.push({
										"Title" : linkText,
										"Link" : linkLink
									});

								}
							}
						}
				} 		
			});
		}
	}

	linksArr.forEach(element => {
		console.log( element );
	});

	

});


</script>

</head>
<body>
	<div id="main">
		<div class="item">
			<h3><a href="https://test.com">Blockchain article</a></h3>
		</div>
		<div class="item">
			<h2><a href="#">Cryptocurrency article</a></h2>
		</div>
		<div class="item">
			<h3><a href="#">Blog about money</a></h3>
		</div>
		<div class="item">
			<h3><a href="#">Finance for IT Devs</a></h3>
		</div>
		<div class="item">
			<h4><a href="#">blockchain 101</a></h4>
		</div>
		<div class="item">
			<h2><a href="#">A text 6</a></h2>
		</div>
		<div class="item">
			<h3><a href="https://test.com">Fintech explained by experts</a></h3>
		</div>
		<div class="item">
			<h2><a href="#">Libra applies for new regulatory review</a></h2>
		</div>
		<div class="item">
			<h1><a href="#">What is the deal with libra?</a></h1>
		</div>
		<div class="item">
			<h3><a href="#">...do you like cats?</a></h3>
		</div>
		<div class="item">
			<h4><a href="#">Bitcoin</a></h4>
		</div>
		<div class="item">
			<h2><a href="#">Crypto</a></h2>
		</div>
		</div>
</body>
</html> 